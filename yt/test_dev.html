<!DOCTYPE html>
<html>
<head>
  <title>Youtube Mini Player - Video</title>
  <!--meta tags-->
   <meta content="1 days" name="revisit-after">
     <meta content="Dhruv Jain" name="author">
     <meta content="YouTube quick play with almost nil clicks and a better speed - not loading most of the shits and dumbs like ads." name="description">
     <meta content="Dhruv Jain, Dhruv Video, Video, YouTube Video, DhruvJain, YouTube, Dhruv YouTube, YT, YouTube Fast Play, midhruvjaink yt, midhruvjaink youtube, youtube instant, ytinstant, Dhruv, midhruvjaink, Mukesh Jain, DatorLab, GitHub, StackOverFlow, Quora, dj, Dhruva Jain, ZeroPennyMovies, JECRC, Jaipur, India, JECRC College, Jaipur Engineering College and Research Center, RTDEEE," name="keywords">
     <meta content="Dhruv Jain" name="site_name">
     <meta name="google-site-verification" content="2txplprlPooZHfqxK-K6EismZ3svcuBWOjq9y4D8HXQ" />
     <link href='fav.png' rel='icon' type='image/x-icon'/>
     <!--og meta-->
     <meta name="og:title" content="YouTube Quick Player">
    <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
  <!--google analytics track-->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-82828999-1', 'auto');
  ga('send', 'pageview');
</script>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
  <nav>
  <div class="nav-wrapper red darken-1 hoverable z-depth-2">
  <ul>
  <li>
    <img src="main.svg" alt="logo" class="responsive-img logo" width="60px" height="60px" />
    </li>
    <li class="searchBox grey-text lighten-5">
    <form class="grey-text lighten-5" id="searchBox" ng-app ng-controller="Ctrl">
    <div class="row">
      <div class="col s11">
        <input type="text" name="search" placeholder="Search Video..." class="query white-text red darken-1 lighten-5" id="query" list="items">
      </div>
      <div class="col s1">
        <input onclick="video(document.getElementById('query').value)" type="submit" style="visibility:hidden;"></input>
      </div>
    </div>        
          <script type="text/javascript">
            var input = document.getElementById('query');
            input.focus();
            input.select();
          </script>
        <datalist id="items">
            <option ng-repeat="option in dataset" value="{{option[0]}}" />
        </datalist>
    </form>         
    <script>
      var Ctrl;
    </script>
    <script type="text/javascript" src="autoSuggest.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
      </li>
      <li class="right">v-beta7.0</li>
    </ul>
  </div>
</nav>
  <div class="clearfix"></div>
  <div class="row">
    <div class="col s10 offset-s1" id="YTPlayer">
      <iframe width="100%" height="480px" src="https://www.youtube.com/embed/4PdU6migsqQ?autoplay=1&color=white&showinfo=0&rel=0" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="col s1" id="desc"></div>
  </div>
  <div class="clearfix"></div>
  <div class="row">
    <div class="col s9 offset-s1">
      <h5 class="simHead" id="simHead"></h5>
      <div class="row">
        <div class="col s3" id="secVid"></div>
        <div class="col s3" id="thVid"></div>
        <div class="col s3" id="frthVid"></div>
      </div>
    </div>
  </div>
  <script>
          function video(q){
            var xhr = new XMLHttpRequest();
            var api = "AIzaSyDf-TCgD54NNSlg_PbqeJyhXWhn0B4WBzw";
            var url = "https://www.googleapis.com/youtube/v3/search?part=id&q="+q+"&type=video&key="+api;
            xhr.open("GET", url, true);
            function getEl(id, value){
              document.getElementById(id).innerHTML = (value);
            }
            function YT(id){
              getEl('YTPlayer', '<iframe id="ytplayer" type="text/html" width="100%" height="480px" src="https://www.youtube.com/embed/'+id+'?autoplay=1&color=white&showinfo=0&rel=0" allowfullscreen frameborder="0"></iframe>');
            }
            function vdImage(no){
              return '<a href="watch.html?'+no+'"><img class="responsive-img" src="https://i.ytimg.com/vi/'+no+'/mqdefault.jpg" /></a>';
            }
            xhr.onreadystatechange = function() {
              if (xhr.readyState === 4) {
                var status = xhr.status;
                if ((status >= 200 && status < 300) || status === 304) {
                  var rss = JSON.parse(xhr.responseText);
                  var videoId = rss.items[0].id.videoId;
                  YT(videoId);
                  
                  var secVid = rss.items[1].id.videoId;
                  var thVid = rss.items[2].id.videoId;
                  var frthVid = rss.items[3].id.videoId;
                  getEl('simHead', 'Similar Video Results');
                  getEl('secVid', vdImage(secVid));
                  getEl('thVid', vdImage(thVid));
                  getEl('frthVid', vdImage(frthVid));
                } else {
                    alert("Request unsuccessful");
                }
              }
            };
            xhr.send(null);

             }
        </script>
</body>
</html>
